# Copilot 指南 — Luogu 练习码库（3.yellow）

目的：帮助 AI 代码代理快速理解并在本仓库中高效工作，保留既有风格并避免破坏单文件题解。

核心要点（立刻可用）：

- 仓库类型与整体结构
  - 本仓库是个人/练习型的 Luogu/ACM 题解集合，主要是 C++ 单文件解决方案。目录以题目编号开头，常见格式：`Pxxxx：题名/` 或 `Bxxxx：题名/`。例如：`P1007：独木桥/P1007.cpp`、`B4408：挂号系统/demand.txt`。
  - 每个题目目录通常包含：`demand.txt`（题目描述）、一个或多个 `.cpp` 实现文件（如 `P2031_1.cpp`, `P2031_2.cpp`）、以及可选的 `output/` 子目录用于示例输出。

- 命名与代码风格约定（可从文件观察得到）
  - 以题号为主的文件命名：主解通常与目录名同编号。如存在多个版本，会以后缀 `_1`, `_2` 等区分（例如 `P2031_1.cpp`）。
  - 代码通常为单文件、无项目/构建脚本、以标准输入/输出为交互方式。
  - 请勿在未确认的情况下把多个题目的代码合并或重构为复杂模块；保持单文件可编译是首要约定。

- 构建 / 运行 / 测试（项目特定命令，针对 Windows cmd.exe）
  - 没有统一的 build 系统。推荐的测试流程（示例，cmd.exe）：
    - 编译：
      g++ -std=c++17 -O2 -pipe -o P1007.exe "P1007：独木桥/P1007.cpp"
    - 运行（重定向输入）：
      P1007.exe < "input.txt" > "actual_output.txt"
    - 比较输出：手动或使用 fc 命令（Windows）：
      fc expected_output.txt actual_output.txt
  - 如果你要添加自动化脚本，放在题目目录或根目录下（例如 `scripts/compile_all.bat`），并保持不改变现有源码。

- 常见文件可作为参考示例：
  - 单一正确解：`P1007：独木桥/P1007.cpp`
  - 多个尝试与比较：`P2031：脑力达人之分割字串/P2031_1.cpp`, `P2031_2.cpp`
  - 题目描述：`B4408：挂号系统/demand.txt`

- AI 编辑与提交规则（非常重要）
  - 只在用户明确要求时修改解法逻辑；默认情况下优先：修复小型错误（如编译错误、明显的未初始化变量）、添加注释或改善可读性，而不是重构算法。
  - 保持原有文件名与单文件结构。若必须引入额外文件（测试、工具脚本），放在新目录如 `tools/` 或 `scripts/`，并在提交说明中注明原因。
  - 当修改多个题目文件或添加运行脚本时，先在回复中列出改动清单并等待用户确认（避免误改大量题解）。

- 调试与约束细节
  - 路径中包含中文或全角符号（例如：`P1007：独木桥`）——在 Windows 下编译/脚本时注意引号和编码（使用 UTF-8 编码的编辑器）。
  - 输入输出通常通过标准 IO；不要假设有额外的配置文件或外部服务。

- 可检索的信息点（快速定位）
  - 查阅题目实现：按 `P` 或 `B` 开头的文件夹（例如 `P1025/`）。
  - 查阅题目描述：该题目录下的 `demand.txt`。
  - 查阅样例输出：`output/` 目录。

- 交互与提问时机（何时向人类确认）
  - 当修改可能改变算法复杂度或输出格式时（例如更改空格/换行策略），务必询问用户。
  - 当遇到非 ASCII 路径或环境特定问题（Windows 编码/编译器差异）时，询问用户首选的编译环境（MSVC vs MinGW vs WSL）。

若需要，我可以：
- 合并旧的 `.github/copilot-instructions.md`（如果存在）或把本文件调整为带合并策略的版本；
- 为仓库添加一个小的 `scripts/compile_all.bat` 或 `Makefile`（在用户确认构建偏好后）。

请告诉我是否要：
1) 立刻将本文件写入仓库（我已准备好写入）；
2) 或者先根据你的编译/测试偏好（例如使用 WSL 或 MSVC）调整示例命令。